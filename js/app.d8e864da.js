(function(){"use strict";var t={2538:function(t,e,i){var a=i(6848),s=i(9425),l=i.n(s),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("el-container",[e("el-main",[e("router-view")],1)],1)],1)},r=[],o=(i(4114),{name:"App",data(){return{activeIndex:"1"}},methods:{handleSelect(t){console.log(t),"1"===t&&this.$router.push("/"),"2"===t&&this.$router.push("/user"),"3"===t&&this.$router.push("/dashboard")}}}),c=o,d=i(1656),u=(0,d.A)(c,n,r,!1,null,null,null),p=u.exports,v=i(944),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"activity-manage"},[e("div",{staticClass:"page-header"},[e("h1",[t._v("运营活动管理")]),e("div",{staticClass:"page-actions"},[e("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.handleRefreshData}},[t._v(" 刷新 ")]),t.showHelpButton?e("el-button",{attrs:{type:"warning",icon:"el-icon-guide"},on:{click:t.startGuide}},[t._v(" 新手引导 ")]):t._e()],1)]),e("el-row",{staticClass:"stats-row",attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("el-card",{attrs:{shadow:"hover"}},[e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-icon",staticStyle:{background:"#e6f7ff"}},[e("i",{staticClass:"el-icon-star-on",staticStyle:{color:"#1890ff"}})]),e("div",{staticClass:"stat-content"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.stats.totalActivities))]),e("div",{staticClass:"stat-label"},[t._v("总活动数")])])])])],1),e("el-col",{attrs:{span:6}},[e("el-card",{attrs:{shadow:"hover"}},[e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-icon",staticStyle:{background:"#f6ffed"}},[e("i",{staticClass:"el-icon-time",staticStyle:{color:"#52c41a"}})]),e("div",{staticClass:"stat-content"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.stats.activeActivities))]),e("div",{staticClass:"stat-label"},[t._v("进行中")])])])])],1),e("el-col",{attrs:{span:6}},[e("el-card",{attrs:{shadow:"hover"}},[e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-icon",staticStyle:{background:"#fff7e6"}},[e("i",{staticClass:"el-icon-warning-outline",staticStyle:{color:"#fa8c16"}})]),e("div",{staticClass:"stat-content"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.stats.upcomingActivities))]),e("div",{staticClass:"stat-label"},[t._v("即将开始")])])])])],1),e("el-col",{attrs:{span:6}},[e("el-card",{attrs:{shadow:"hover"}},[e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-icon",staticStyle:{background:"#f9f0ff"}},[e("i",{staticClass:"el-icon-user-solid",staticStyle:{color:"#722ed1"}})]),e("div",{staticClass:"stat-content"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.formatParticipants(t.stats.totalParticipants)))]),e("div",{staticClass:"stat-label"},[t._v("总参与人数")])])])])],1)],1),t.pageData.banner?e("ActivityBanner",{attrs:{banner:t.pageData.banner},on:{"banner-click":t.handleBannerClick}}):t._e(),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("el-card",{staticClass:"category-section",attrs:{shadow:"hover"},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"section-header"},[e("i",{staticClass:"el-icon-s-operation",staticStyle:{"margin-right":"8px"}}),e("span",[t._v("活动分类")])])]},proxy:!0}])},t._l(t.pageData.categories,function(i){return e("CategoryEntry",{key:i.id,attrs:{category:i},on:{"category-click":t.handleCategoryClick}})}),1),e("Announcement",{attrs:{announcements:t.pageData.announcements},on:{"announcement-click":t.handleAnnouncementClick}})],1),e("el-col",{attrs:{span:18}},[e("SwitchLayout",{attrs:{"layout-type":t.layoutType},on:{"layout-change":t.handleLayoutChange,"columns-change":t.handleColumnsChange,"sort-change":t.handleSortChange}}),e("div",{staticClass:"activity-display"},["grid"===t.layoutType?e("ActivityGrid",{attrs:{activities:t.sortedActivities,columns:t.columns},on:{"card-click":t.handleActivityClick}}):"carousel"===t.layoutType?e("ActivityCarousel",{attrs:{activities:t.sortedActivities},on:{"card-click":t.handleActivityClick}}):"list"===t.layoutType?e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sortedActivities}},[e("el-table-column",{attrs:{prop:"title",label:"活动名称",width:"200"},scopedSlots:t._u([{key:"default",fn:function({row:i}){return[e("div",{staticClass:"activity-title"},[e("el-image",{staticStyle:{width:"40px",height:"40px","border-radius":"4px","margin-right":"10px"},attrs:{src:i.image}}),e("span",[t._v(t._s(i.title))])],1)]}}])}),e("el-table-column",{attrs:{prop:"type",label:"活动类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function({row:i}){return[e("el-tag",{attrs:{type:t.getTypeTag(i.type)}},[t._v(" "+t._s(t.getTypeName(i.type))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function({row:i}){return[e("el-tag",{attrs:{type:t.getStatusType(i.status)}},[t._v(" "+t._s(i.status)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"participants",label:"参与人数",width:"120"},scopedSlots:t._u([{key:"default",fn:function({row:e}){return[t._v(" "+t._s(t.formatParticipants(e.participants))+" ")]}}])}),e("el-table-column",{attrs:{prop:"progress",label:"进度",width:"150"},scopedSlots:t._u([{key:"default",fn:function({row:i}){return[e("el-progress",{attrs:{percentage:i.progress,status:t.getProgressStatus(i.progress)}})]}}])}),e("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function({row:i}){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleViewDetail(i)}}},[t._v("详情")]),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleEdit(i)}}},[t._v("编辑")])]}}])})],1):t._e()],1)],1)],1),e("el-card",{staticClass:"view-all-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"view-all-content"},[e("div",{staticClass:"view-all-info"},[e("h3",[e("i",{staticClass:"el-icon-s-order"}),t._v(" 查看更多活动")]),e("p",[t._v("查看所有活动详情、参与数据和管理功能")])]),e("div",{staticClass:"view-all-actions"},[e("el-button",{attrs:{type:"primary"},on:{click:t.goToList}},[e("i",{staticClass:"el-icon-right"}),t._v(" 前往活动列表 ")])],1)])]),e("el-dialog",{attrs:{title:t.selectedActivity?t.selectedActivity.title:"",visible:t.detailDialogVisible,width:"60%"},on:{"update:visible":function(e){t.detailDialogVisible=e}}},[e("ActivityDetail",{attrs:{activity:t.selectedActivity}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.detailDialogVisible=!1}}},[t._v("关闭")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleJoinActivity(t.selectedActivity)}}},[t._v("立即参与")])],1)],1),t.showGuide?e("GuideOverlay",{attrs:{steps:t.guideSteps,"guide-key":"activity-home-guide"},on:{complete:t.handleGuideComplete,skip:t.handleGuideSkip}}):t._e()],1)},h=[];i(8111),i(2489),i(8237),i(116);const g=()=>{const t=[],e=["hot","limited","new_user","points","vip","festival"],i=["active","upcoming","ended","offline"],a=["管理员","运营A","运营B","运营C","运营D"];for(let s=1;s<=200;s++){const l=e[s%e.length],n=i[s%i.length],r=a[s%a.length],o=Math.floor(180*Math.random()),c=new Date;c.setDate(c.getDate()-o);const d=Math.floor(30*Math.random())+1,u=new Date(c);u.setDate(u.getDate()+d);const p=Math.floor(24*Math.random())+7,v=new Date(u);v.setDate(v.getDate()+p);const m={hot:"热门活动",limited:"限时抢购",new_user:"新人专享",points:"积分兑换",vip:"会员特权",festival:"节日活动"};t.push({id:s,title:`${m[l]}第${s}期：${y()}`,description:`这是第${s}期${m[l]}的描述内容，活动规则请仔细阅读。参与活动有机会赢取丰厚奖品！`,type:l,status:n,creator:r,createdAt:c.toISOString().split("T")[0]+" 10:00:00",startTime:u.toISOString().split("T")[0]+" 00:00:00",endTime:v.toISOString().split("T")[0]+" 23:59:59",participants:Math.floor(1e4*Math.random())+100,views:Math.floor(5e3*Math.random())+50,progress:Math.floor(100*Math.random()),coverImage:f(l,s),image:f(l,s),isFeatured:s%10===0,tags:C(l),priority:Math.floor(10*Math.random())+1})}return t};function y(){const t=["年度盛典","狂欢促销","专享福利","惊喜特惠","会员专享","节日庆典"],e=["大放送","专场","活动","特价","福利","优惠"],i=t[Math.floor(Math.random()*t.length)],a=e[Math.floor(Math.random()*e.length)];return i+a}function f(t,e){const i={hot:"images/a1.jpg",limited:"images/a2.jpg",new_user:"images/a3.jpeg",points:"images/a4.jpg",vip:"images/a5.jpeg",festival:"/images/banner2.jpg"};return i[t]||localImages[e%localImages.length]}function C(t){const e={hot:["热门","推荐","主推"],limited:["限时","抢购","特价"],new_user:["新人","专享","福利"],points:["积分","兑换","礼品"],vip:["会员","特权","专属"],festival:["节日","庆典","活动"]};return e[t]||["活动"]}const _=g(),b={getActivityList:()=>new Promise(t=>{setTimeout(()=>{const e=_.filter(t=>t.isFeatured).sort((t,e)=>e.priority-t.priority).slice(0,9);t({code:200,data:{banner:{id:1,title:"双十一狂欢节",image:"/images/banner1.jpg",link:"/activity/1111",status:"active",startTime:"2024-11-01 00:00:00",endTime:"2024-11-11 23:59:59"},categories:[{id:1,name:"热门活动",icon:"el-icon-star-on",count:_.filter(t=>"hot"===t.type).length},{id:2,name:"限时抢购",icon:"el-icon-time",count:_.filter(t=>"limited"===t.type).length},{id:3,name:"新人专享",icon:"el-icon-user",count:_.filter(t=>"new_user"===t.type).length},{id:4,name:"积分兑换",icon:"el-icon-present",count:_.filter(t=>"points"===t.type).length},{id:5,name:"会员特权",icon:"el-icon-medal",count:_.filter(t=>"vip"===t.type).length},{id:6,name:"节日活动",icon:"el-icon-moon-night",count:_.filter(t=>"festival"===t.type).length}],announcements:[{id:1,title:"系统维护通知",content:"将于11月15日进行系统维护",type:"info",time:"2024-11-05"},{id:2,title:"活动规则更新",content:"双十一活动规则已更新，请仔细阅读",type:"warning",time:"2024-11-04"},{id:3,title:"新活动上线",content:"黑五预热活动已上线",type:"success",time:"2024-11-03"}],activities:e},message:"获取成功"})},500)}),getActivityListWithPagination:(t={})=>new Promise(e=>{setTimeout(()=>{const{page:i=1,pageSize:a=20,keyword:s="",status:l="",type:n="",creator:r="",startDate:o="",endDate:c=""}=t;let d=[..._];if(s){const t=s.toLowerCase();d=d.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))}l&&(d=d.filter(t=>t.status===l)),n&&(d=d.filter(t=>t.type===n)),r&&(d=d.filter(t=>t.creator===r)),o&&c&&(d=d.filter(t=>{const e=new Date(t.createdAt.split(" ")[0]),i=new Date(o),a=new Date(c);return e>=i&&e<=a}));const u=d.length,p=(i-1)*a,v=p+a,m=d.slice(p,v),h={total:u,active:_.filter(t=>"active"===t.status).length,upcoming:_.filter(t=>"upcoming"===t.status).length,ended:_.filter(t=>"ended"===t.status).length,offline:_.filter(t=>"offline"===t.status).length};e({code:200,data:{list:m,total:u,page:i,pageSize:a,totalPages:Math.ceil(u/a),stats:h},message:"获取成功"})},600)}),getActivityDetail:t=>new Promise(e=>{setTimeout(()=>{const i=_.find(e=>e.id==t);if(i){const t={...i,rules:`1. 活动时间：${i.startTime.split(" ")[0]} 至 ${i.endTime.split(" ")[0]}\n2. 参与条件：所有注册用户均可参与\n3. 活动规则：${i.description}\n4. 奖品设置：一等奖3名，二等奖10名，三等奖50名\n5. 注意事项：活动最终解释权归平台所有`,participantsData:{total:i.participants,daily:Array.from({length:7},(t,e)=>({date:`11-${10+e}`,count:Math.floor(1e3*Math.random())+100})),byRegion:[{region:"华北",count:Math.floor(.3*i.participants)},{region:"华东",count:Math.floor(.4*i.participants)},{region:"华南",count:Math.floor(.2*i.participants)},{region:"其他",count:Math.floor(.1*i.participants)}]}};e({code:200,data:t,message:"获取成功"})}else e({code:404,data:null,message:"活动不存在"})},300)}),updateActivity:(t,e)=>new Promise(i=>{setTimeout(()=>{const a=_.findIndex(e=>e.id==t);-1!==a&&(_[a]={..._[a],...e,updatedAt:(new Date).toISOString().replace("T"," ").substring(0,19)}),i({code:200,data:{id:t,...e},message:"更新成功"})},500)})};var w={getActivityList(){return b.getActivityList()},getActivityListWithPagination(t={}){return b.getActivityListWithPagination(t)},getActivityDetail(t){return b.getActivityDetail(t)},updateActivityStatus(t,e){return new Promise(t=>{setTimeout(()=>{t({code:200,message:"状态更新成功"})},300)})},updateActivity(t,e){return b.updateActivity(t,e)}},k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"activity-banner"},[e("el-card",{attrs:{shadow:"hover"}},[e("div",{staticClass:"banner-content",on:{click:t.handleBannerClick}},[e("img",{staticClass:"banner-image",attrs:{src:t.banner.image,alt:t.banner.title}}),e("div",{staticClass:"banner-overlay"},[e("h3",[t._v(t._s(t.banner.title))]),e("p",{staticClass:"banner-time"},[t._v(" "+t._s(t.formatTime(t.banner.startTime))+" - "+t._s(t.formatTime(t.banner.endTime))+" ")]),e("el-tag",{attrs:{type:t.getStatusType(t.banner.status),size:"medium"}},[t._v(" "+t._s(t.banner.status)+" ")])],1)])])],1)},S=[],D={name:"ActivityBanner",props:{banner:{type:Object,required:!0,default:()=>({})}},methods:{handleBannerClick(){this.$emit("banner-click",this.banner)},formatTime(t){return new Date(t).toLocaleDateString()},getStatusType(t){const e={active:"success",upcoming:"warning",ended:"info"};return e[t]||"info"}}},x=D,A=(0,d.A)(x,k,S,!1,null,"e4be0052",null),$=A.exports,F=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"category-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"category-content",on:{click:t.handleCategoryClick}},[e("div",{staticClass:"category-icon"},[e("i",{class:t.category.icon,staticStyle:{"font-size":"24px"}})]),e("div",{staticClass:"category-info"},[e("h4",[t._v(t._s(t.category.name))]),e("p",{staticClass:"category-count"},[t._v(t._s(t.category.count)+"个活动")])]),e("i",{staticClass:"el-icon-arrow-right arrow-icon"})])])},T=[],G={name:"CategoryEntry",props:{category:{type:Object,required:!0}},methods:{handleCategoryClick(){this.$emit("category-click",this.category)}}},P=G,I=(0,d.A)(P,F,T,!1,null,"ec2cf912",null),z=I.exports,O=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"announcement-card",attrs:{shadow:"hover"},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"announcement-header"},[e("i",{staticClass:"el-icon-megaphone",staticStyle:{"margin-right":"8px"}}),e("span",[t._v("平台公告")])])]},proxy:!0}])},[e("div",{staticClass:"announcement-list"},t._l(t.announcements,function(i){return e("div",{key:i.id,staticClass:"announcement-item",on:{click:function(e){return t.handleAnnouncementClick(i)}}},[e("div",{staticClass:"announcement-content"},[e("el-tag",{staticStyle:{"margin-right":"8px"},attrs:{type:i.type,size:"mini"}},[t._v(" "+t._s(t.getTagText(i.type))+" ")]),e("span",{staticClass:"announcement-title"},[t._v(t._s(i.title))])],1),e("span",{staticClass:"announcement-time"},[t._v(t._s(i.time))])])}),0)])},M=[],L={name:"Announcement",props:{announcements:{type:Array,default:()=>[]}},methods:{handleAnnouncementClick(t){this.$emit("announcement-click",t)},getTagText(t){const e={info:"通知",warning:"注意",success:"新活动"};return e[t]||"公告"}}},B=L,V=(0,d.A)(B,O,M,!1,null,"db3568d8",null),j=V.exports,E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"activity-grid"},[e("div",{staticClass:"grid-container",class:`grid-${t.columns}`},t._l(t.activities,function(i){return e("ActivityCard",{key:i.id,attrs:{activity:i},on:{"card-click":t.handleCardClick}})}),1)])},R=[],q=function(){var t=this,e=t._self._c;return e(t.cardComponent,{tag:"component",attrs:{activity:t.activity},on:{click:t.handleCardClick}})},H=[],N=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"activity-card hot-activity",attrs:{shadow:"hover"},on:{click:function(e){return t.$emit("click")}}},[e("div",{staticClass:"card-header"},[e("el-tag",{attrs:{type:"danger",size:"mini"}},[t._v("热门")]),e("span",{staticClass:"activity-status"},[t._v(t._s(t.activity.status))])],1),e("el-image",{staticClass:"card-image",attrs:{src:t.activity.image,fit:"cover"}}),e("div",{staticClass:"card-content"},[e("h4",{staticClass:"activity-title"},[t._v(t._s(t.activity.title))]),e("p",{staticClass:"activity-description"},[t._v(t._s(t.activity.description))]),e("div",{staticClass:"activity-info"},[e("div",{staticClass:"info-item"},[e("i",{staticClass:"el-icon-time"}),e("span",[t._v(t._s(t.formatDate(t.activity.startTime)))])]),e("div",{staticClass:"info-item"},[e("i",{staticClass:"el-icon-user"}),e("span",[t._v(t._s(t.formatParticipants(t.activity.participants)))])])]),e("div",{staticClass:"progress-container"},[e("div",{staticClass:"progress-label"},[t._v("进度: "+t._s(t.activity.progress)+"%")]),e("el-progress",{attrs:{percentage:t.activity.progress,"show-text":!1}})],1)])],1)},U=[],J={name:"HotActivityCard",props:{activity:{type:Object,required:!0}},methods:{formatDate(t){return new Date(t).toLocaleDateString()},formatParticipants(t){return t>=1e4?(t/1e4).toFixed(1)+"万":t.toString()}}},W=J,K=(0,d.A)(W,N,U,!1,null,"50b4b8e7",null),Y=K.exports,Q=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"activity-card limited-activity",attrs:{shadow:"hover"},on:{click:function(e){return t.$emit("click")}}},[e("div",{staticClass:"card-header"},[e("el-tag",{attrs:{type:"warning",size:"mini"}},[t._v("限时")]),e("span",{staticClass:"activity-status"},[t._v(t._s(t.activity.status))])],1),e("div",{staticClass:"time-badge"},[e("i",{staticClass:"el-icon-alarm-clock"}),e("span",[t._v("倒计时 "+t._s(t.getRemainingDays())+"天")])]),e("el-image",{staticClass:"card-image",attrs:{src:t.activity.image,fit:"cover"}}),e("div",{staticClass:"card-content"},[e("h4",{staticClass:"activity-title"},[t._v(t._s(t.activity.title))]),e("div",{staticClass:"tags"},t._l(t.activity.tags,function(i){return e("el-tag",{key:i,attrs:{size:"mini"}},[t._v(t._s(i))])}),1)])],1)},X=[],Z={name:"LimitedActivityCard",props:{activity:{type:Object,required:!0}},methods:{getRemainingDays(){const t=new Date(this.activity.endTime),e=new Date,i=t-e;return Math.ceil(i/864e5)}}},tt=Z,et=(0,d.A)(tt,Q,X,!1,null,"4971a583",null),it=et.exports,at=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"activity-card newuser-activity",attrs:{shadow:"hover"},on:{click:function(e){return t.$emit("click")}}},[e("div",{staticClass:"newuser-badge"},[t._v("新人专享")]),e("el-image",{staticClass:"card-image",attrs:{src:t.activity.image,fit:"cover"}}),e("div",{staticClass:"card-content"},[e("h4",{staticClass:"activity-title"},[t._v(t._s(t.activity.title))]),e("p",{staticClass:"activity-description"},[t._v(t._s(t.activity.description))]),e("div",{staticClass:"coupon"},[e("span",{staticClass:"coupon-amount"},[t._v("￥100")]),e("span",{staticClass:"coupon-text"},[t._v("优惠券")])]),e("el-button",{staticClass:"join-button",attrs:{type:"success",size:"small"}},[t._v("立即领取")])],1)],1)},st=[],lt={name:"NewUserActivityCard",props:{activity:{type:Object,required:!0}}},nt=lt,rt=(0,d.A)(nt,at,st,!1,null,"7ef66617",null),ot=rt.exports,ct=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"activity-card points-activity",attrs:{shadow:"hover"},on:{click:function(e){return t.$emit("click")}}},[e("div",{staticClass:"points-header"},[e("i",{staticClass:"el-icon-coin"}),e("span",[t._v("积分兑换")])]),e("el-image",{staticClass:"card-image",attrs:{src:t.activity.image,fit:"cover"}}),e("div",{staticClass:"card-content"},[e("h4",{staticClass:"activity-title"},[t._v(t._s(t.activity.title))]),e("div",{staticClass:"points-info"},[e("div",{staticClass:"points-required"},[e("span",{staticClass:"points-label"},[t._v("所需积分:")]),e("span",{staticClass:"points-value"},[t._v("5000")])]),e("div",{staticClass:"stock-info"},[e("span",{staticClass:"stock-label"},[t._v("库存:")]),e("span",{staticClass:"stock-value"},[t._v(t._s(t.activity.participants)+"/10000")])])]),e("el-progress",{attrs:{percentage:t.activity.progress}})],1)],1)},dt=[],ut={name:"PointsActivityCard",props:{activity:{type:Object,required:!0}}},pt=ut,vt=(0,d.A)(pt,ct,dt,!1,null,"5dfc60d0",null),mt=vt.exports,ht=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"activity-card vip-activity",attrs:{shadow:"hover"},on:{click:function(e){return t.$emit("click")}}},[e("div",{staticClass:"vip-badge"},[e("i",{staticClass:"el-icon-crown"}),e("span",[t._v("会员专属")])]),e("el-image",{staticClass:"card-image",attrs:{src:t.activity.image,fit:"cover"}}),e("div",{staticClass:"card-content"},[e("h4",{staticClass:"activity-title"},[t._v(t._s(t.activity.title))]),e("ul",{staticClass:"privilege-list"},[e("li",[e("i",{staticClass:"el-icon-check"}),t._v(" 专属折扣")]),e("li",[e("i",{staticClass:"el-icon-check"}),t._v(" 双倍积分")]),e("li",[e("i",{staticClass:"el-icon-check"}),t._v(" 优先购买")]),e("li",[e("i",{staticClass:"el-icon-check"}),t._v(" 专属客服")])]),e("div",{staticClass:"vip-level"},[e("span",[t._v("适用等级: ")]),e("el-tag",{attrs:{size:"mini"}},[t._v("VIP1")]),e("el-tag",{attrs:{size:"mini",type:"warning"}},[t._v("VIP2")]),e("el-tag",{attrs:{size:"mini",type:"success"}},[t._v("VIP3")])],1)])],1)},gt=[],yt={name:"VipActivityCard",props:{activity:{type:Object,required:!0}}},ft=yt,Ct=(0,d.A)(ft,ht,gt,!1,null,"7bafad8c",null),_t=Ct.exports,bt=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"activity-card festival-activity",attrs:{shadow:"hover"},on:{click:function(e){return t.$emit("click")}}},[e("div",{staticClass:"festival-theme"},[e("i",{staticClass:"el-icon-moon-night"}),e("span",[t._v("节日特惠")])]),e("el-image",{staticClass:"card-image",attrs:{src:t.activity.image,fit:"cover"}}),e("div",{staticClass:"card-content"},[e("h4",{staticClass:"activity-title"},[t._v(t._s(t.activity.title))]),e("p",{staticClass:"activity-date"},[t._v(" "+t._s(t.formatDate(t.activity.startTime))+" - "+t._s(t.formatDate(t.activity.endTime))+" ")]),e("div",{staticClass:"discount-tag"},[e("span",{staticClass:"discount-text"},[t._v("最高")]),e("span",{staticClass:"discount-value"},[t._v("5折")])]),e("div",{staticClass:"festival-tags"},t._l(t.activity.tags,function(i){return e("el-tag",{key:i,attrs:{size:"mini",type:"info"}},[t._v(t._s(i))])}),1)])],1)},wt=[],kt={name:"FestivalActivityCard",props:{activity:{type:Object,required:!0}},methods:{formatDate(t){return new Date(t).toLocaleDateString()}}},St=kt,Dt=(0,d.A)(St,bt,wt,!1,null,"36650a44",null),xt=Dt.exports,At={name:"ActivityCard",components:{HotActivityCard:Y,LimitedActivityCard:it,NewUserActivityCard:ot,PointsActivityCard:mt,VipActivityCard:_t,FestivalActivityCard:xt},props:{activity:{type:Object,required:!0}},computed:{cardComponent(){const t={hot:"HotActivityCard",limited:"LimitedActivityCard",new_user:"NewUserActivityCard",points:"PointsActivityCard",vip:"VipActivityCard",festival:"FestivalActivityCard"};return t[this.activity.type]||"HotActivityCard"}},methods:{handleCardClick(){this.$emit("card-click",this.activity)}}},$t=At,Ft=(0,d.A)($t,q,H,!1,null,null,null),Tt=Ft.exports,Gt={name:"ActivityGrid",components:{ActivityCard:Tt},props:{activities:{type:Array,default:()=>[]},columns:{type:Number,default:3,validator:t=>[2,3,4].includes(t)}},methods:{handleCardClick(t){this.$emit("card-click",t)}}},Pt=Gt,It=(0,d.A)(Pt,E,R,!1,null,"1e322fa6",null),zt=It.exports,Ot=function(){var t=this,e=t._self._c;return e("div",{staticClass:"activity-carousel"},[e("el-carousel",{attrs:{interval:5e3,height:"400px","indicator-position":"outside",arrow:"always"}},t._l(t.activityGroups,function(i,a){return e("el-carousel-item",{key:a},[e("div",{staticClass:"carousel-group"},t._l(i,function(i){return e("ActivityCard",{key:i.id,staticClass:"carousel-item",attrs:{activity:i},on:{"card-click":t.handleCardClick}})}),1)])}),1)],1)},Mt=[],Lt={name:"ActivityCarousel",components:{ActivityCard:Tt},props:{activities:{type:Array,default:()=>[]},itemsPerSlide:{type:Number,default:3}},computed:{activityGroups(){const t=[];for(let e=0;e<this.activities.length;e+=this.itemsPerSlide)t.push(this.activities.slice(e,e+this.itemsPerSlide));return t}},methods:{handleCardClick(t){this.$emit("card-click",t)}}},Bt=Lt,Vt=(0,d.A)(Bt,Ot,Mt,!1,null,"9db3b650",null),jt=Vt.exports,Et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"switch-layout"},[e("el-tooltip",{attrs:{content:"宫格布局",placement:"top"}},[e("el-button",{attrs:{type:"grid"===t.layoutType?"primary":"default",icon:"el-icon-menu",circle:""},on:{click:function(e){return t.switchLayout("grid")}}})],1),e("el-tooltip",{attrs:{content:"轮播布局",placement:"top"}},[e("el-button",{attrs:{type:"carousel"===t.layoutType?"primary":"default",icon:"el-icon-picture",circle:""},on:{click:function(e){return t.switchLayout("carousel")}}})],1),e("div",{staticClass:"layout-options"},[e("el-select",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:t.columns,callback:function(e){t.columns=e},expression:"columns"}},[e("el-option",{attrs:{label:"2列",value:2}}),e("el-option",{attrs:{label:"3列",value:3}}),e("el-option",{attrs:{label:"4列",value:4}})],1),e("el-select",{staticStyle:{width:"120px","margin-left":"10px"},attrs:{size:"small"},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}},[e("el-option",{attrs:{label:"按时间排序",value:"time"}}),e("el-option",{attrs:{label:"按参与人数",value:"participants"}}),e("el-option",{attrs:{label:"按进度排序",value:"progress"}})],1)],1)],1)},Rt=[],qt={name:"SwitchLayout",props:{layoutType:{type:String,default:"grid"}},data(){return{columns:3,sortBy:"time"}},watch:{columns(t){this.$emit("columns-change",t)},sortBy(t){this.$emit("sort-change",t)}},methods:{switchLayout(t){this.$emit("layout-change",t)}}},Ht=qt,Nt=(0,d.A)(Ht,Et,Rt,!1,null,"94d9302e",null),Ut=Nt.exports,Jt=function(){var t=this,e=t._self._c;return t.activity?e("div",{staticClass:"activity-detail"},[t.showDetailGuide?e("div",{staticClass:"detail-toolbar"},[e("el-button",{staticClass:"detail-guide-btn",attrs:{type:"warning",size:"small",icon:"el-icon-guide"},on:{click:t.startDetailGuide}},[t._v(" 详情页引导 ")])],1):t._e(),t.editable&&t.isEditing?[e("el-form",{ref:"editForm",attrs:{model:t.editForm,rules:t.formRules,"label-width":"100px"}},[e("el-card",{staticClass:"form-section",scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"section-header"},[e("i",{staticClass:"el-icon-edit"}),e("span",[t._v("编辑活动信息")])])]},proxy:!0}],null,!1,958087730)},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"活动标题",prop:"title"}},[e("el-input",{attrs:{placeholder:"请输入活动标题"},model:{value:t.editForm.title,callback:function(e){t.$set(t.editForm,"title",e)},expression:"editForm.title"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"活动状态",prop:"status"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择状态"},model:{value:t.editForm.status,callback:function(e){t.$set(t.editForm,"status",e)},expression:"editForm.status"}},[e("el-option",{attrs:{label:"进行中",value:"active"}}),e("el-option",{attrs:{label:"即将开始",value:"upcoming"}}),e("el-option",{attrs:{label:"已结束",value:"ended"}}),e("el-option",{attrs:{label:"已下架",value:"offline"}})],1)],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"活动类型",prop:"type"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类型"},model:{value:t.editForm.type,callback:function(e){t.$set(t.editForm,"type",e)},expression:"editForm.type"}},[e("el-option",{attrs:{label:"热门活动",value:"hot"}}),e("el-option",{attrs:{label:"限时抢购",value:"limited"}}),e("el-option",{attrs:{label:"新人专享",value:"new_user"}}),e("el-option",{attrs:{label:"积分兑换",value:"points"}}),e("el-option",{attrs:{label:"会员特权",value:"vip"}}),e("el-option",{attrs:{label:"节日活动",value:"festival"}})],1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"创建人",prop:"creator"}},[e("el-input",{attrs:{placeholder:"请输入创建人"},model:{value:t.editForm.creator,callback:function(e){t.$set(t.editForm,"creator",e)},expression:"editForm.creator"}})],1)],1)],1),e("el-form-item",{attrs:{label:"活动描述",prop:"description"}},[e("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入活动描述",maxlength:"500","show-word-limit":""},model:{value:t.editForm.description,callback:function(e){t.$set(t.editForm,"description",e)},expression:"editForm.description"}})],1)],1),e("el-card",{staticClass:"form-section",scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"section-header"},[e("i",{staticClass:"el-icon-time"}),e("span",[t._v("时间设置")])])]},proxy:!0}],null,!1,2136270707)},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择开始时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.editForm.startTime,callback:function(e){t.$set(t.editForm,"startTime",e)},expression:"editForm.startTime"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择结束时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.editForm.endTime,callback:function(e){t.$set(t.editForm,"endTime",e)},expression:"editForm.endTime"}})],1)],1)],1)],1),e("el-card",{staticClass:"form-section",scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"section-header"},[e("i",{staticClass:"el-icon-s-data"}),e("span",[t._v("参与数据")])])]},proxy:!0}],null,!1,1543299464)},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"参与人数"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,step:100},model:{value:t.editForm.participants,callback:function(e){t.$set(t.editForm,"participants",e)},expression:"editForm.participants"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"活动进度"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,max:100,step:1},model:{value:t.editForm.progress,callback:function(e){t.$set(t.editForm,"progress",e)},expression:"editForm.progress"}})],1)],1)],1),e("el-form-item",{attrs:{label:"活动规则",prop:"rules"}},[e("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入活动规则"},model:{value:t.editForm.rules,callback:function(e){t.$set(t.editForm,"rules",e)},expression:"editForm.rules"}})],1)],1)],1),e("div",{staticClass:"action-buttons"},[e("el-button",{on:{click:t.cancelEdit}},[t._v("取消")]),e("el-button",{attrs:{type:"primary",loading:t.submitting},on:{click:t.submitEdit}},[t._v("保存")])],1)]:[t.editable?e("div",{staticClass:"action-toolbar"},[e("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.startEdit}},[t._v(" 编辑活动 ")])],1):t._e(),e("el-card",{staticClass:"info-card"},[e("div",{staticClass:"info-header"},[e("div",{staticClass:"info-title"},[e("h2",[t._v(t._s(t.activity.title))]),e("div",{staticClass:"info-tags"},[e("el-tag",{attrs:{type:t.getTagType(t.activity.type),size:"medium"}},[t._v(" "+t._s(t.getTypeName(t.activity.type))+" ")]),e("el-tag",{attrs:{type:t.getStatusType(t.activity.status),size:"medium"}},[t._v(" "+t._s(t.getStatusText(t.activity.status))+" ")])],1)]),e("div",{staticClass:"info-meta"},[e("span",{staticClass:"meta-item"},[e("i",{staticClass:"el-icon-user"}),t._v(" "+t._s(t.activity.creator))]),e("span",{staticClass:"meta-item"},[e("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t.formatDate(t.activity.createdAt)))])])]),e("el-divider"),e("el-descriptions",{attrs:{column:2,border:""}},[e("el-descriptions-item",{attrs:{label:"活动ID"}},[t._v(t._s(t.activity.id))]),e("el-descriptions-item",{attrs:{label:"参与人数"}},[t._v(t._s(t.formatParticipants(t.activity.participants)))]),e("el-descriptions-item",{attrs:{label:"浏览次数"}},[t._v(t._s(t.activity.views))]),e("el-descriptions-item",{attrs:{label:"活动进度"}},[e("el-progress",{attrs:{percentage:t.activity.progress,status:t.getProgressStatus(t.activity.progress)}})],1),e("el-descriptions-item",{attrs:{label:"开始时间"}},[t._v(t._s(t.formatFullDate(t.activity.startTime)))]),e("el-descriptions-item",{attrs:{label:"结束时间"}},[t._v(t._s(t.formatFullDate(t.activity.endTime)))])],1),e("div",{staticClass:"description-section"},[e("h4",[e("i",{staticClass:"el-icon-info"}),t._v(" 活动描述")]),e("p",[t._v(t._s(t.activity.description))])])],1),e("el-card",{staticClass:"rules-card",scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"card-header"},[e("i",{staticClass:"el-icon-document"}),e("span",[t._v("活动规则")])])]},proxy:!0}],null,!1,2140652104)},[e("div",{staticClass:"rules-content"},[e("pre",[t._v(t._s(t.activity.rules))])])]),t.activity.participantsData?e("el-card",{staticClass:"data-card",scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"card-header"},[e("i",{staticClass:"el-icon-s-data"}),e("span",[t._v("参与数据")])])]},proxy:!0}],null,!1,3727433365)},[e("div",{staticClass:"data-content"},[e("div",{staticClass:"data-item"},[e("div",{staticClass:"data-label"},[t._v("总参与人数")]),e("div",{staticClass:"data-value"},[t._v(t._s(t.formatParticipants(t.activity.participantsData.total)))])]),e("div",{staticClass:"data-item"},[e("h4",[t._v("每日参与趋势")]),e("div",{staticClass:"daily-trend"},t._l(t.activity.participantsData.daily,function(i){return e("div",{key:i.date,staticClass:"trend-item"},[e("div",{staticClass:"trend-date"},[t._v(t._s(i.date))]),e("div",{staticClass:"trend-bar"},[e("div",{staticClass:"bar-fill",style:{height:Math.min(i.count/50,100)+"%"}})]),e("div",{staticClass:"trend-count"},[t._v(t._s(i.count))])])}),0)])])]):t._e()],t.showDetailGuideDialog?e("GuideOverlay",{attrs:{steps:t.detailGuideSteps,"guide-key":"activity-detail-guide"},on:{complete:t.handleDetailGuideComplete,skip:t.handleDetailGuideSkip}}):t._e()],2):t._e()},Wt=[],Kt=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"guide-fade"}},[t.visible?e("div",{staticClass:"guide-overlay"},[e("div",{staticClass:"guide-mask"}),t.currentStep?e("div",{staticClass:"guide-tooltip",style:t.tooltipStyle},[e("div",{staticClass:"step-indicator"},[t._v(" 步骤 "+t._s(t.currentIndex+1)+" / "+t._s(t.steps.length)+" ")]),e("div",{staticClass:"tooltip-content"},[t.currentStep.title?e("h3",{staticClass:"tooltip-title"},[t._v(" "+t._s(t.currentStep.title)+" ")]):t._e(),t.currentStep.content?e("div",{staticClass:"tooltip-body"},[t._v(" "+t._s(t.currentStep.content)+" ")]):t._e()]),e("div",{staticClass:"tooltip-actions"},[t.currentIndex>0?e("el-button",{attrs:{size:"small"},on:{click:t.prevStep}},[t._v(" 上一步 ")]):t._e(),e("div",{staticClass:"action-right"},[t.currentIndex<t.steps.length-1?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.nextStep}},[t._v(" 下一步 ")]):e("el-button",{attrs:{type:"success",size:"small"},on:{click:t.completeGuide}},[t._v(" 完成引导 ")]),e("el-button",{staticClass:"skip-btn",attrs:{type:"text",size:"small"},on:{click:t.skipGuide}},[t._v(" 跳过 ")])],1)],1)]):t._e()]):t._e()])},Yt=[],Qt={name:"GuideOverlay",props:{steps:{type:Array,required:!0,default:()=>[]},guideKey:{type:String,required:!0},autoStart:{type:Boolean,default:!0}},data(){return{visible:!1,currentIndex:0,tooltipStyle:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}},computed:{currentStep(){return this.steps[this.currentIndex]}},mounted(){this.autoStart&&setTimeout(()=>{this.startGuide()},500)},methods:{startGuide(){this.visible=!0,this.currentIndex=0},nextStep(){this.currentIndex<this.steps.length-1&&this.currentIndex++},prevStep(){this.currentIndex>0&&this.currentIndex--},skipGuide(){this.visible=!1,this.$emit("skip",this.guideKey)},completeGuide(){this.visible=!1,this.$emit("complete",this.guideKey)},restart(){this.currentIndex=0,this.visible=!0}}},Xt=Qt,Zt=(0,d.A)(Xt,Kt,Yt,!1,null,"7c8be0fa",null),te=Zt.exports,ee={name:"ActivityDetail",components:{GuideOverlay:te},props:{activity:{type:Object,required:!0},editable:{type:Boolean,default:!1},showDetailGuide:{type:Boolean,default:!1}},data(){return{showDetailGuideDialog:!1,detailGuideSteps:this.getDetailGuideSteps(),isEditing:!1,editForm:{},submitting:!1,formRules:{title:[{required:!0,message:"请输入活动标题",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],type:[{required:!0,message:"请选择活动类型",trigger:"change"}],status:[{required:!0,message:"请选择活动状态",trigger:"change"}],creator:[{required:!0,message:"请输入创建人",trigger:"blur"}],description:[{required:!0,message:"请输入活动描述",trigger:"blur"},{min:10,max:500,message:"长度在 10 到 500 个字符",trigger:"blur"}],startTime:[{required:!0,message:"请选择开始时间",trigger:"change"}],endTime:[{required:!0,message:"请选择结束时间",trigger:"change"}]}}},watch:{activity:{immediate:!0,handler(t){t&&(this.editForm=this.getEditFormData(t))}}},methods:{getDetailGuideSteps(){const t=[{title:"活动详情页介绍",content:"这里是活动详情页面，展示活动的完整信息和参与数据。",order:1}];return this.editable?t.push({title:"编辑模式",content:'点击"编辑活动"按钮可以进入编辑模式，修改活动信息。',order:2},{title:"表单验证",content:"编辑表单有完整的验证规则，确保数据准确性。",order:3},{title:"保存功能",content:'编辑完成后点击"保存"按钮，数据会更新并反馈结果。',order:4}):t.push({title:"基本信息区域",content:"这里展示了活动的标题、状态、创建人、时间等基本信息。",order:2},{title:"数据统计",content:"查看活动的参与人数、浏览次数、活动进度等数据。",order:3},{title:"活动描述",content:"这里详细描述了活动的内容和目标。",order:4},{title:"活动规则",content:"查看活动的详细规则和注意事项。",order:5},{title:"参与数据",content:"这里展示了活动的参与趋势和数据分布。",order:6},{title:"操作按钮",content:"可以关闭详情页或立即参与活动。",order:7}),t},startDetailGuide(){this.showDetailGuideDialog=!0},handleDetailGuideComplete(t){this.showDetailGuideDialog=!1,localStorage.setItem(`guide_seen_${t}`,"true"),this.$message.success("详情页引导已完成！")},handleDetailGuideSkip(t){this.showDetailGuideDialog=!1,localStorage.setItem(`guide_seen_${t}`,"true"),this.$message.info("已跳过来详情页引导")},startEdit(){this.isEditing=!0,this.editForm=this.getEditFormData(this.activity)},cancelEdit(){this.isEditing=!1,this.editForm=this.getEditFormData(this.activity)},submitEdit(){this.$refs.editForm.validate(t=>{t?(this.submitting=!0,setTimeout(()=>{this.$emit("save",this.editForm),this.$message.success("活动信息更新成功！"),this.isEditing=!1,this.submitting=!1,Object.assign(this.activity,this.editForm)},800)):this.$message.warning("请填写完整的表单信息")})},getEditFormData(t){return setTimeout(()=>{this.detailGuideSteps=this.getDetailGuideSteps()},100),{id:t.id,title:t.title,type:t.type,status:t.status,creator:t.creator,description:t.description,startTime:t.startTime,endTime:t.endTime,participants:t.participants,progress:t.progress,rules:t.rules||"1. 活动时间：\n2. 参与条件：\n3. 活动规则：\n4. 奖品设置：\n5. 注意事项："}},getTagType(t){const e={hot:"danger",limited:"warning",new_user:"success",points:"info",vip:"",festival:"primary"};return e[t]||"info"},getTypeName(t){const e={hot:"热门活动",limited:"限时抢购",new_user:"新人专享",points:"积分兑换",vip:"会员特权",festival:"节日活动"};return e[t]||"其他活动"},getStatusText(t){const e={active:"进行中",upcoming:"即将开始",ended:"已结束",offline:"已下架"};return e[t]||"未知"},getStatusType(t){const e={active:"success",upcoming:"warning",ended:"info",offline:"danger"};return e[t]||"info"},getProgressStatus(t){return t>=80?"success":t>=50?"":t>=30?"warning":"exception"},formatDate(t){return t?t.split(" ")[0]:"-"},formatFullDate(t){if(!t)return"-";const e=new Date(t);return e.toLocaleString()},formatParticipants(t){return t?t>=1e4?(t/1e4).toFixed(1)+"万":t.toString():"0"}}},ie=ee,ae=(0,d.A)(ie,Jt,Wt,!1,null,"e8493bbe",null),se=ae.exports,le={name:"ActivityManage",components:{ActivityBanner:$,CategoryEntry:z,Announcement:j,ActivityGrid:zt,ActivityCarousel:jt,SwitchLayout:Ut,ActivityDetail:se,GuideOverlay:te},data(){return{pageData:{banner:null,categories:[],announcements:[],activities:[]},layoutType:"grid",columns:3,sortBy:"time",selectedActivity:null,detailDialogVisible:!1,stats:{totalActivities:0,activeActivities:0,upcomingActivities:0,totalParticipants:0},showGuide:!1,showHelpButton:!0,guideSteps:[{title:"欢迎来到活动管理平台",content:"这里是活动管理首页，您可以在这里查看平台的重点活动和统计数据。",order:1},{title:"数据统计区域",content:"这里展示了平台活动的整体数据，包括总活动数、进行中活动、即将开始活动等关键指标。",order:2},{title:"Banner展示区",content:"这里是平台的重点活动推广区域，点击Banner可以查看活动详情。",order:3},{title:"活动分类和公告",content:"左侧是活动分类入口和平台公告，方便您快速找到感兴趣的活动类型。",order:4},{title:"活动展示区域",content:"这里以不同的布局展示活动卡片，支持宫格、轮播、列表三种视图模式。",order:5},{title:"查看更多功能",content:'点击"前往活动列表"可以查看所有活动，支持筛选、搜索和分页功能。',order:6}]}},computed:{sortedActivities(){const t=[...this.pageData.activities];switch(this.sortBy){case"time":return t.sort((t,e)=>new Date(e.startTime)-new Date(t.startTime));case"participants":return t.sort((t,e)=>e.participants-t.participants);case"progress":return t.sort((t,e)=>e.progress-t.progress);default:return t}}},created(){this.fetchData(),setTimeout(()=>{this.checkGuide()},1e3)},methods:{async fetchData(){try{const t=await w.getActivityList();200===t.code&&(this.pageData=t.data,this.calculateStats())}catch(t){this.$message.error("数据加载失败")}},calculateStats(){const t=this.pageData.activities;this.stats.totalActivities=t.length,this.stats.activeActivities=t.filter(t=>"进行中"===t.status||"active"===t.status).length,this.stats.upcomingActivities=t.filter(t=>"即将开始"===t.status||"upcoming"===t.status).length,this.stats.totalParticipants=t.reduce((t,e)=>t+e.participants,0)},handleRefreshData(){this.fetchData(),this.$message.success("数据已刷新")},formatParticipants(t){return t||0===t?t>=1e4?(t/1e4).toFixed(1)+"万":t.toString():"0"},handleLayoutChange(t){this.layoutType=t},handleColumnsChange(t){this.columns=t},handleSortChange(t){this.sortBy=t},handleBannerClick(t){this.$message.info(`点击了Banner: ${t.title}`)},handleCategoryClick(t){this.$message.info(`选择了分类: ${t.name}`)},handleAnnouncementClick(t){this.$message.info(`查看公告: ${t.title}`)},handleActivityClick(t){this.selectedActivity=t,this.detailDialogVisible=!0},handleViewDetail(t){this.selectedActivity=t,this.detailDialogVisible=!0},handleEdit(t){this.$message.info(`编辑活动: ${t.title}`)},handleJoinActivity(t){t&&(this.$message.success(`已成功参与活动：${t.title}`),this.detailDialogVisible=!1)},handleCreate(){this.$message.info("创建新活动")},goToList(){this.$router.push("/list")},getTypeTag(t){const e={hot:"danger",limited:"warning",new_user:"success",points:"info",vip:"",festival:"primary"};return e[t]||"info"},getTypeName(t){const e={hot:"热门活动",limited:"限时抢购",new_user:"新人专享",points:"积分兑换",vip:"会员特权",festival:"节日活动"};return e[t]||"其他活动"},getStatusType(t){const e={"进行中":"success",active:"success","即将开始":"warning",upcoming:"warning","已结束":"info",ended:"info","已下架":"danger",offline:"danger"};return e[t]||"info"},getProgressStatus(t){return t>=80?"success":t>=50?"":t>=30?"warning":"exception"},checkGuide(){const t=localStorage.getItem("guide_seen_activity-home-guide");t||setTimeout(()=>{this.showGuide=!0},1500)},startGuide(){this.showGuide=!0},handleGuideComplete(t){this.showGuide=!1,localStorage.setItem(`guide_seen_${t}`,"true"),this.showHelpButton=!1,this.$message.success("新手引导已完成！")},handleGuideSkip(t){this.showGuide=!1,localStorage.setItem(`guide_seen_${t}`,"true"),this.showHelpButton=!1,this.$message.info("已跳过新手引导")}}},ne=le,re=(0,d.A)(ne,m,h,!1,null,"0e98d655",null),oe=re.exports,ce=function(){var t=this,e=t._self._c;return e("div",{staticClass:"activity-list-page"},[e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-left"},[t._m(0),e("el-button",{staticClass:"back-home-btn",attrs:{type:"text",icon:"el-icon-back"},on:{click:function(e){return t.$router.push("/")}}},[t._v(" 返回首页 ")])],1),e("div",{staticClass:"page-actions"},[e("el-button",{staticStyle:{display:"none"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleCreate}},[t._v(" 创建活动 ")]),e("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.refreshList}},[t._v(" 刷新 ")]),t.showHelpButton?e("el-button",{attrs:{type:"warning",icon:"el-icon-guide"},on:{click:t.startGuide}},[t._v(" 新手引导 ")]):t._e()],1)]),e("el-card",{staticClass:"filter-card",attrs:{shadow:"never"}},[e("el-form",{attrs:{model:t.filterForm,inline:"","label-width":"80px"}},[e("el-form-item",{attrs:{label:"关键词"}},[e("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入活动标题或描述",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearch.apply(null,arguments)},clear:t.handleSearch},model:{value:t.filterForm.keyword,callback:function(e){t.$set(t.filterForm,"keyword",e)},expression:"filterForm.keyword"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handleSearch},slot:"append"})],1)],1),e("el-form-item",{attrs:{label:"活动状态"}},[e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择状态",clearable:""},on:{change:t.handleSearch},model:{value:t.filterForm.status,callback:function(e){t.$set(t.filterForm,"status",e)},expression:"filterForm.status"}},[e("el-option",{attrs:{label:"全部",value:""}}),e("el-option",{attrs:{label:"进行中",value:"active"}}),e("el-option",{attrs:{label:"即将开始",value:"upcoming"}}),e("el-option",{attrs:{label:"已结束",value:"ended"}}),e("el-option",{attrs:{label:"已下架",value:"offline"}})],1)],1),e("el-form-item",{attrs:{label:"活动类型"}},[e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择类型",clearable:""},on:{change:t.handleSearch},model:{value:t.filterForm.type,callback:function(e){t.$set(t.filterForm,"type",e)},expression:"filterForm.type"}},[e("el-option",{attrs:{label:"全部",value:""}}),e("el-option",{attrs:{label:"热门活动",value:"hot"}}),e("el-option",{attrs:{label:"限时抢购",value:"limited"}}),e("el-option",{attrs:{label:"新人专享",value:"new_user"}}),e("el-option",{attrs:{label:"积分兑换",value:"points"}}),e("el-option",{attrs:{label:"会员特权",value:"vip"}}),e("el-option",{attrs:{label:"节日活动",value:"festival"}})],1)],1),e("el-form-item",{attrs:{label:"创建时间"}},[e("el-date-picker",{staticStyle:{width:"280px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:t.handleSearch},model:{value:t.filterForm.dateRange,callback:function(e){t.$set(t.filterForm,"dateRange",e)},expression:"filterForm.dateRange"}})],1),e("el-form-item",{attrs:{label:"创建人"}},[e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择创建人",clearable:"",filterable:""},on:{change:t.handleSearch},model:{value:t.filterForm.creator,callback:function(e){t.$set(t.filterForm,"creator",e)},expression:"filterForm.creator"}},[e("el-option",{attrs:{label:"全部",value:""}}),e("el-option",{attrs:{label:"管理员",value:"管理员"}}),e("el-option",{attrs:{label:"运营A",value:"运营A"}}),e("el-option",{attrs:{label:"运营B",value:"运营B"}}),e("el-option",{attrs:{label:"运营C",value:"运营C"}}),e("el-option",{attrs:{label:"运营D",value:"运营D"}})],1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleSearch}},[e("i",{staticClass:"el-icon-search"}),t._v(" 搜索 ")]),e("el-button",{on:{click:t.handleReset}},[e("i",{staticClass:"el-icon-refresh"}),t._v(" 重置 ")])],1)],1)],1),t.showGuide?e("GuideOverlay",{attrs:{steps:t.guideSteps,"guide-key":"activity-list-guide"},on:{complete:t.handleGuideComplete,skip:t.handleGuideSkip}}):t._e(),t.stats&&!t.loading?e("div",{staticClass:"stats-row"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("div",{staticClass:"stat-item total"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-s-order"})]),e("div",{staticClass:"stat-content"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.stats.total))]),e("div",{staticClass:"stat-label"},[t._v("总活动数")])])])]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"stat-item active"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-success"})]),e("div",{staticClass:"stat-content"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.stats.active))]),e("div",{staticClass:"stat-label"},[t._v("进行中")])])])]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"stat-item upcoming"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-time"})]),e("div",{staticClass:"stat-content"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.stats.upcoming))]),e("div",{staticClass:"stat-label"},[t._v("即将开始")])])])]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"stat-item ended"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-finished"})]),e("div",{staticClass:"stat-content"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.stats.ended))]),e("div",{staticClass:"stat-label"},[t._v("已结束")])])])])],1)],1):t._e(),e("el-card",{staticClass:"list-card",attrs:{shadow:"never"}},[e("div",{staticClass:"list-toolbar"},[e("div",{staticClass:"total-count"},[t._v(" 搜索到 "),e("span",{staticClass:"count-number"},[t._v(t._s(t.total))]),t._v(" 个活动 "),t.filterForm.keyword?e("span",{staticClass:"keyword-hint"},[t._v("（关键词："+t._s(t.filterForm.keyword)+"）")]):t._e()]),e("div",{staticClass:"toolbar-actions"},[e("el-select",{staticStyle:{width:"120px"},attrs:{size:"small"},on:{change:t.handlePageSizeChange},model:{value:t.pageSize,callback:function(e){t.pageSize=e},expression:"pageSize"}},[e("el-option",{attrs:{label:"每页10条",value:10}}),e("el-option",{attrs:{label:"每页20条",value:20}}),e("el-option",{attrs:{label:"每页50条",value:50}})],1)],1)]),t.loading&&0===t.listData.length?e("div",{staticClass:"skeleton-container"},t._l(10,function(t){return e("div",{key:t,staticClass:"skeleton-item"},[e("el-skeleton",{attrs:{animated:"",loading:!0}},[e("template",{slot:"template"},[e("div",{staticClass:"skeleton-content"},[e("el-skeleton-item",{staticStyle:{width:"120px",height:"80px"},attrs:{variant:"image"}}),e("div",{staticStyle:{flex:"1","margin-left":"15px"}},[e("el-skeleton-item",{staticStyle:{width:"30%"},attrs:{variant:"h3"}}),e("el-skeleton-item",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{variant:"text"}}),e("div",{staticStyle:{display:"flex","margin-top":"15px"}},[e("el-skeleton-item",{staticStyle:{width:"80px","margin-right":"20px"},attrs:{variant:"text"}}),e("el-skeleton-item",{staticStyle:{width:"100px"},attrs:{variant:"text"}})],1)],1)],1)])],2)],1)}),0):t._e(),t.listData.length>0?e("div",{staticClass:"list-container"},t._l(t.listData,function(i){return e("div",{key:i.id,staticClass:"list-item",on:{click:function(e){return t.handleItemClick(i)}}},[e("div",{staticClass:"item-image"},[e("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i.coverImage,fit:"cover"}},[e("div",{staticClass:"image-error",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1),e("div",{staticClass:"item-content"},[e("div",{staticClass:"item-header"},[e("h4",{staticClass:"item-title"},[t._v(t._s(i.title))]),e("div",{staticClass:"item-meta"},[e("el-tag",{attrs:{type:t.getStatusType(i.status),size:"mini"}},[t._v(" "+t._s(t.getStatusText(i.status))+" ")]),e("span",{staticClass:"item-type"},[t._v(t._s(t.getTypeName(i.type)))])],1)]),e("p",{staticClass:"item-description"},[t._v(t._s(i.description))]),e("div",{staticClass:"item-footer"},[e("div",{staticClass:"item-info"},[e("span",{staticClass:"info-item"},[e("i",{staticClass:"el-icon-user"}),t._v(" "+t._s(i.creator)+" ")]),e("span",{staticClass:"info-item"},[e("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t.formatDate(i.createdAt))+" ")]),e("span",{staticClass:"info-item"},[e("i",{staticClass:"el-icon-user-solid"}),t._v(" "+t._s(t.formatParticipants(i.participants))+" 人参与 ")])]),e("div",{staticClass:"item-actions"},[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return e.stopPropagation(),t.handleViewDetail(i)}}},[t._v(" 查看详情 ")]),"ended"!==i.status?e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return e.stopPropagation(),t.handleEdit(i)}}},[t._v(" 编辑 ")]):t._e()],1)])])])}),0):t._e(),t.loading||0!==t.listData.length?t._e():e("div",{staticClass:"empty-state"},[e("el-empty",{attrs:{description:"暂无活动数据"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.handleReset}},[t._v("重置筛选")])],1)],1),t.total>0?e("div",{staticClass:"pagination-container"},[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,total:t.total,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"size-change":t.handlePageSizeChange,"current-change":t.handlePageChange}})],1):t._e()]),e("el-dialog",{attrs:{title:"活动详情",visible:t.detailDialogVisible,width:"70%",top:"5vh"},on:{"update:visible":function(e){t.detailDialogVisible=e}}},[t.detailDialogVisible&&t.selectedItem?e("ActivityDetail",{attrs:{activity:t.selectedItem,editable:!1,"show-detail-guide":"true"},on:{close:function(e){t.detailDialogVisible=!1}}}):t._e(),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.detailDialogVisible=!1}}},[t._v("关闭")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleJoinActivity(t.selectedItem)}}},[t._v(" 立即参与 ")])],1)],1),e("el-dialog",{attrs:{title:"编辑活动",visible:t.editDialogVisible,width:"60%",top:"5vh"},on:{"update:visible":function(e){t.editDialogVisible=e},close:t.handleEditDialogClose}},[t.editDialogVisible&&t.selectedItem?e("ActivityDetail",{attrs:{activity:t.selectedItem,editable:!0,"show-detail-guide":!0},on:{save:t.handleSaveActivity,close:function(e){t.editDialogVisible=!1}}}):t._e()],1)],1)},de=[function(){var t=this,e=t._self._c;return e("h1",[e("i",{staticClass:"el-icon-s-order"}),t._v(" 活动列表")])}],ue=(i(7588),i(3110),{name:"ActivityList",components:{ActivityDetail:se,GuideOverlay:te},data(){return{filterForm:{keyword:"",status:"",type:"",dateRange:[],creator:""},listData:[],currentPage:1,pageSize:20,total:0,loading:!1,stats:null,detailDialogVisible:!1,editDialogVisible:!1,selectedItem:null,urlParams:{},showGuide:!1,showHelpButton:!0,guideSteps:[{title:"活动列表页介绍",content:"这里是活动列表页面，您可以查看和管理平台的所有活动。",order:1},{title:"筛选功能",content:"使用这些筛选条件可以快速找到您需要的活动。支持关键词搜索、状态筛选、时间范围、类型筛选等。",order:2},{title:"统计信息",content:"这里展示了活动的整体统计数据，包括总活动数、进行中、即将开始等。",order:3},{title:"列表工具栏",content:"这里可以查看搜索结果，调整每页显示数量，切换视图模式。",order:4},{title:"活动列表项",content:"每个列表项包含活动的基本信息，点击可以查看详情，点击编辑按钮可以修改活动信息。",order:5},{title:"分页功能",content:"支持分页浏览，大数据量下也有良好的性能表现。",order:6},{title:"详情查看",content:'点击列表项或"查看详情"按钮可以打开详情对话框，查看活动完整信息。',order:7},{title:"编辑功能",content:"在详情对话框中可以切换到编辑模式，修改活动信息并保存。",order:8}]}},watch:{"$route.query":{immediate:!0,handler(t){this.updateFilterFromUrl(t)}}},created(){this.initFromUrl(),this.loadData(),setTimeout(()=>{this.checkGuide()},1e3)},methods:{checkGuide(){const t=localStorage.getItem("guide_seen_activity-list-guide");t||setTimeout(()=>{this.showGuide=!0},1500)},startGuide(){this.showGuide=!0},handleGuideComplete(t){this.showGuide=!1,localStorage.setItem(`guide_seen_${t}`,"true"),this.showHelpButton=!1,this.$message.success("列表页引导已完成！")},handleGuideSkip(t){this.showGuide=!1,localStorage.setItem(`guide_seen_${t}`,"true"),this.showHelpButton=!1,this.$message.info("已跳过列表页引导")},initFromUrl(){const t=this.$route.query;this.filterForm={keyword:t.keyword||"",status:t.status||"",type:t.type||"",dateRange:t.startDate&&t.endDate?[t.startDate,t.endDate]:[],creator:t.creator||""},this.currentPage=parseInt(t.page)||1,this.pageSize=parseInt(t.pageSize)||20},updateUrl(){const t={keyword:this.filterForm.keyword||void 0,status:this.filterForm.status||void 0,type:this.filterForm.type||void 0,creator:this.filterForm.creator||void 0,page:this.currentPage>1?this.currentPage:void 0,pageSize:20!==this.pageSize?this.pageSize:void 0};this.filterForm.dateRange&&2===this.filterForm.dateRange.length&&(t.startDate=this.filterForm.dateRange[0],t.endDate=this.filterForm.dateRange[1]),Object.keys(t).forEach(e=>{void 0===t[e]&&delete t[e]}),this.$router.replace({query:t}).catch(()=>{})},updateFilterFromUrl(t){JSON.stringify(this.urlParams)!==JSON.stringify(t)&&(this.urlParams={...t},this.filterForm={keyword:t.keyword||"",status:t.status||"",type:t.type||"",dateRange:t.startDate&&t.endDate?[t.startDate,t.endDate]:[],creator:t.creator||""},this.currentPage=parseInt(t.page)||1,this.pageSize=parseInt(t.pageSize)||20,this.loadData())},async loadData(){this.loading=!0;try{const t={page:this.currentPage,pageSize:this.pageSize,keyword:this.filterForm.keyword,status:this.filterForm.status,type:this.filterForm.type,creator:this.filterForm.creator};this.filterForm.dateRange&&2===this.filterForm.dateRange.length&&(t.startDate=this.filterForm.dateRange[0],t.endDate=this.filterForm.dateRange[1]);const e=await w.getActivityListWithPagination(t);if(200===e.code){const t=e.data;this.listData=t.list||[],this.total=t.total||0,this.stats=t.stats||null,this.updateUrl()}else this.$message.error(e.message||"加载失败")}catch(t){console.error("加载数据失败:",t),this.$message.error("加载失败，请稍后重试")}finally{this.loading=!1}},handleSearch(){this.currentPage=1,this.loadData()},handleReset(){this.filterForm={keyword:"",status:"",type:"",dateRange:[],creator:""},this.currentPage=1,this.loadData()},handlePageChange(t){this.currentPage=t,this.loadData()},handlePageSizeChange(t){this.pageSize=t,this.currentPage=1,this.loadData()},handleItemClick(t){this.selectedItem=t,this.detailDialogVisible=!0},handleViewDetail(t){this.selectedItem=t,this.detailDialogVisible=!0},handleEdit(t){this.selectedItem=t,this.editDialogVisible=!0},async handleSaveActivity(t){try{this.$message.loading("正在保存...",0),await new Promise(t=>setTimeout(t,1e3));const e={code:200,data:t,message:"活动更新成功"};if(200===e.code){Object.assign(this.selectedItem,t);const i=this.listData.findIndex(t=>t.id===this.selectedItem.id);-1!==i&&this.$set(this.listData,i,{...this.listData[i],...t}),this.$message.closeAll(),this.$message.success(e.message),this.editDialogVisible=!1,this.selectedItem=null}else this.$message.closeAll(),this.$message.error(e.message||"保存失败")}catch(e){this.$message.closeAll(),console.error("保存失败:",e),this.$message.error("保存失败，请稍后重试")}},handleEditDialogClose(){this.selectedItem=null},handleJoinActivity(t){this.$message.success(`已成功参与活动：${t.title}`),this.detailDialogVisible=!1,this.loadData()},refreshList(){this.loadData()},handleCreate(){this.$message.info("创建活动功能待实现")},getTypeName(t){const e={hot:"热门活动",limited:"限时抢购",new_user:"新人专享",points:"积分兑换",vip:"会员特权",festival:"节日活动"};return e[t]||"其他活动"},getStatusText(t){const e={active:"进行中",upcoming:"即将开始",ended:"已结束",offline:"已下架"};return e[t]||"未知"},getStatusType(t){const e={active:"success",upcoming:"warning",ended:"info",offline:"danger"};return e[t]||"info"},formatDate(t){return t?t.split(" ")[0]:"-"},formatParticipants(t){return t?t>=1e4?(t/1e4).toFixed(1)+"万":t.toString():"0"}}}),pe=ue,ve=(0,d.A)(pe,ce,de,!1,null,"7e0b7da1",null),me=ve.exports;a.Ay.use(v.Ay);const he=[{path:"/",name:"ActivityManage",component:oe,meta:{title:"运营活动管理"}},{path:"/list",name:"ActivityList",component:me,meta:{title:"活动列表"}}],ge=new v.Ay({mode:"history",base:"/front/",routes:he});ge.beforeEach((t,e,i)=>{t.meta.title&&(document.title=t.meta.title),i()});var ye=ge;const fe={install(t){t.component("GuideOverlay",te),t.prototype.$guide={startPageGuide(e,i){return new Promise(a=>{const s=i||this.getPageGuideConfig(e);if(!s)return void a(!1);let l=document.getElementById("guide-container");l||(l=document.createElement("div"),l.id="guide-container",document.body.appendChild(l));const n=t.extend({components:{GuideOverlay:te},data(){return{visible:!0,guideConfig:s}},methods:{handleComplete(t){this.visible=!1,this.$destroy(),document.body.removeChild(this.$el),this.$guide.markGuideAsSeen(t),a(!0)},handleSkip(t){this.visible=!1,this.$destroy(),document.body.removeChild(this.$el),this.$guide.markGuideAsSeen(t),a(!1)}},template:'\n              <GuideOverlay\n                v-if="visible"\n                :steps="guideConfig.steps"\n                :guide-key="guideConfig.key"\n                @complete="handleComplete"\n                @skip="handleSkip"\n              />\n            '});(new n).$mount(l)})},getPageGuideConfig(t){const e={ActivityManage:{key:"activity-home-guide",steps:[{element:".page-header h1",title:"欢迎来到活动管理平台",content:"这里是活动管理首页，您可以在这里查看平台的重点活动和统计数据。",placement:"bottom"},{element:".stats-row",title:"数据统计",content:"这里展示了平台活动的整体数据，包括总活动数、进行中活动等关键指标。",placement:"top"}]},ActivityList:{key:"activity-list-guide",steps:[{element:".filter-card",title:"筛选功能",content:"您可以使用多种条件筛选活动，筛选参数会自动保存在URL中。",placement:"bottom"},{element:".list-toolbar",title:"列表工具栏",content:"这里可以切换视图模式、调整每页显示数量。",placement:"bottom"}]}};return e[t]},markGuideAsSeen(t){localStorage.setItem(`guide_seen_${t}`,"true")},hasSeenGuide(t){return"true"===localStorage.getItem(`guide_seen_${t}`)},resetGuide(t){localStorage.removeItem(`guide_seen_${t}`)},showHelpButton(t){const e=this.getPageGuideConfig(t);if(!e||this.hasSeenGuide(e.key))return null;const i=document.createElement("button");return i.className="guide-help-button",i.innerHTML='<i class="el-icon-question"></i> 新手引导',i.style.cssText="\n          position: fixed;\n          bottom: 80px;\n          right: 20px;\n          z-index: 1000;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n          border: none;\n          border-radius: 20px;\n          padding: 10px 20px;\n          cursor: pointer;\n          font-size: 14px;\n          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          transition: all 0.3s;\n        ",i.onmouseenter=()=>{i.style.transform="translateY(-2px)",i.style.boxShadow="0 6px 16px rgba(102, 126, 234, 0.6)"},i.onmouseleave=()=>{i.style.transform="translateY(0)",i.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.4)"},i.onclick=()=>{this.startPageGuide(t),i.remove()},document.body.appendChild(i),i}}}};a.Ay.use(fe);a.Ay.use(l()),new a.Ay({el:"#app",router:ye,render:t=>t(p)})}},e={};function i(a){var s=e[a];if(void 0!==s)return s.exports;var l=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(l.exports,l,l.exports,i),l.loaded=!0,l.exports}i.m=t,function(){i.amdO={}}(),function(){var t=[];i.O=function(e,a,s,l){if(!a){var n=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],l=t[d][2];for(var r=!0,o=0;o<a.length;o++)(!1&l||n>=l)&&Object.keys(i.O).every(function(t){return i.O[t](a[o])})?a.splice(o--,1):(r=!1,l<n&&(n=l));if(r){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[a,s,l]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,l,n=a[0],r=a[1],o=a[2],c=0;if(n.some(function(e){return 0!==t[e]})){for(s in r)i.o(r,s)&&(i.m[s]=r[s]);if(o)var d=o(i)}for(e&&e(a);c<n.length;c++)l=n[c],i.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return i.O(d)},a=self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=i.O(void 0,[504],function(){return i(2538)});a=i.O(a)})();
//# sourceMappingURL=app.d8e864da.js.map